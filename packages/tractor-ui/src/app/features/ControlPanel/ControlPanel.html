<header>
    <section class="control-panel__top-row">
        <div>
            <form class="control-panel__run-options" name="controlPanelOptions" novalidate
                ng-submit="controlPanel.runProtractor()">
                <tractor-select
                    form="controlPanelOptions"
                    label="environment"
                    model="controlPanel">
                </tractor-select>
                <tractor-submit
                    action="run protractor">
                </tractor-submit>
                <tractor-select
                    form="controlPanelOptions"
                    label="tag"
                    model="controlPanel"
                    options="controlPanel.tags"
                    as="name">
                </tractor-select>
            </form>
            <div class="control-panel__terminal">
                <tractor-action
                    ng-if="!controlPanel.terminalVisible"
                    model="controlPanel"
                    action="show terminal">
                </tractor-action>
                <tractor-action
                    ng-if="controlPanel.terminalVisible"
                    model="controlPanel"
                    action="hide terminal">
                </tractor-action>
                <div
                    ng-show="controlPanel.terminalVisible"
                    id="terminal">
                </div>
            </div>
        </div>
        <span class="control-panel__server-status"
              ng-class="{ 'control-panel__server-status--running': controlPanel.isServerRunning() }"
              ng-attr-title="{{ 'Tractor server is ' + (controlPanel.isServerRunning() ? 'running.' : 'not running.') }}">
        </span>
    </section>

    <nav>
        <ul>
            <li ng-repeat="plugin in controlPanel.plugins">
                <a ui-sref=".{{ plugin.url }}()">{{ plugin.name }}</a>
            </li>
        </ul>
    </nav>
</header>

<main ui-view></main>

<tractor-notifier></tractor-notifier>
